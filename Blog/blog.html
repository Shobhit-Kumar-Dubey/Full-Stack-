<!DOCTYPE html>
<html lang="en">
<head>
    <style>
        .hero-btn {
            background: linear-gradient(90deg,#0077cc 0%,#ff00cc 100%);
            color: #fff;
            border: none;
            padding: 16px 38px;
            border-radius: 8px;
            font-size: 1.2em;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 2px 12px #0077cc44;
            transition: background 0.2s, box-shadow 0.2s, transform 0.2s;
            position: relative;
        }
        .hero-btn:hover {
            background: linear-gradient(90deg,#ff00cc 0%,#0077cc 100%);
            box-shadow: 0 6px 24px #ff00cc44;
            transform: scale(1.04);
        }
        .hero-btn:active {
            transform: scale(0.97);
        }
    </style>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Blog</title>
    <link rel="stylesheet" href="blog.css">
    <link rel="icon" type="image/png" href="https://cdn-icons-png.flaticon.com/512/5968/5968885.png">
    <style>
        .navbar {
            position: sticky;
            top: 0;
            z-index: 100;
            background: linear-gradient(90deg,#0077cc 0%,#39ff14 100%);
            box-shadow: 0 2px 12px rgba(44,83,100,0.12);
            transition: background 0.3s;
        }
        .nav-logo {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .nav-logo img {
            height: 32px;
            width: 32px;
            border-radius: 8px;
            box-shadow: 0 2px 8px #39ff1444;
        }
        .container {
            max-width: 900px;
            margin: 40px auto;
            background: #fff;
            padding: 30px;
            box-shadow: 0 2px 18px rgba(44,83,100,0.10);
            border-radius: 12px;
            animation: fadeInUp 1.2s cubic-bezier(.4,2,.6,1);
        }
        @keyframes fadeInUp {
            0% { opacity: 0; transform: translateY(60px); }
            100% { opacity: 1; transform: translateY(0); }
        }
        .post {
            margin-bottom: 40px;
            border-bottom: 1px solid #eee;
            padding-bottom: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 12px #0077cc22;
            background: linear-gradient(90deg,#e3f2fd 0%,#fff 100%);
            transition: box-shadow 0.2s, transform 0.2s;
            animation: fadeIn 1.2s;
        }
        .post:hover {
            box-shadow: 0 6px 24px #39ff1444;
            transform: scale(1.02);
        }
        @keyframes fadeIn {
            0% { opacity: 0; }
            100% { opacity: 1; }
        }
        .footer {
            text-align: center;
            padding: 24px 0 12px 0;
            background: linear-gradient(90deg,#39ff14 0%,#0077cc 100%);
            color: #fff;
            font-size: 1.1em;
            margin-top: 40px;
            box-shadow: 0 -2px 12px #0077cc22;
        }
        .footer a {
            color: #fff;
            margin: 0 8px;
            text-decoration: none;
            font-weight: bold;
            transition: color 0.2s;
        }
        .footer a:hover {
            color: #222;
        }
        @media (max-width: 700px) {
            .container {
                padding: 12px;
            }
            .post-image {
                max-height: 180px;
            }
            .navbar {
                flex-direction: column;
                height: auto;
            }
        }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="nav-left">
            <a href="home.html" class="nav-logo"><img src="https://cdn-icons-png.flaticon.com/512/5968/5968885.png" alt="Blog Logo">My Blog</a>
            <a href="home.html" class="nav-link">Home</a>
            <a href="about.html" class="nav-link">About</a>
        </div>
        <div class="nav-right">
            <a href="sign_up_sign_in.html" class="nav-btn nav-link" style="text-decoration:none;">Sign In</a>
            <a href="sign_up_sign_in.html" class="nav-btn nav-btn-signup nav-link" style="text-decoration:none;">Sign Up</a>
        </div>
    </nav>
    <div class="container">
        <h1>My Blog</h1>
    <button id="showPostForm" class="hero-btn" style="margin-bottom:24px;">Create Post</button>
        <!-- Add new fields to the post form -->
        <form id="postForm" style="display:none; margin-bottom:32px; background:#e3f2fd; padding:18px 24px; border-radius:12px; box-shadow:0 2px 12px #0077cc22; animation:fadeInUp 1.2s;">
            <h2 style="color:#0077cc;">New Post</h2>
            <input type="text" id="postTitle" placeholder="Title" required style="width:100%;padding:10px;margin-bottom:12px;border-radius:6px;border:1px solid #ccc;font-size:1em;">
            <textarea id="postContent" placeholder="Content" required style="width:100%;padding:10px;margin-bottom:12px;border-radius:6px;border:1px solid #ccc;font-size:1em;min-height:80px;"></textarea>
            <input type="text" id="postImage" placeholder="Image URL (optional)" style="width:100%;padding:10px;margin-bottom:12px;border-radius:6px;border:1px solid #ccc;font-size:1em;">
            <input type="text" id="postVideo" placeholder="Video URL (optional)" style="width:100%;padding:10px;margin-bottom:12px;border-radius:6px;border:1px solid #ccc;font-size:1em;">
            <textarea id="postTS" placeholder="TypeScript code (optional)" style="width:100%;padding:10px;margin-bottom:12px;border-radius:6px;border:1px solid #ccc;font-size:1em;min-height:60px;"></textarea>
            <button type="submit" class="hero-btn" style="background:#0077cc;">Add Post</button>
        </form>
        <div id="posts">
            <div class="post">
                <img class="post-image" src="https://images.unsplash.com/photo-1464983953574-0892a716854b?auto=format&fit=crop&w=800&q=80" alt="Welcome to My Blog">
                <div class="post-title">Welcome to My Blog</div>
                <div class="post-date">September 3, 2025</div>
                <div class="post-content">
                    <p>This is my first blog post! Here, I'll share my thoughts, tutorials, and stories about web development and technology.</p>
                </div>
            </div>
            <div class="post">
                <img class="post-image" src="https://images.unsplash.com/photo-1515378791036-0648a3ef77b2?auto=format&fit=crop&w=800&q=80" alt="How to Learn HTML">
                <div class="post-title">How to Learn HTML</div>
                <div class="post-date">August 30, 2025</div>
                <div class="post-content">
                    <p>HTML is the foundation of the web. Start by learning the basic tags, then practice by building simple web pages. There are many free resources online to help you get started.</p>
                </div>
            </div>
            <div class="post">
                <img class="post-image" src="https://images.unsplash.com/photo-1461749280684-dccba630e2f6?auto=format&fit=crop&w=800&q=80" alt="Why I Love Coding">
                <div class="post-title">Why I Love Coding</div>
                <div class="post-date">August 25, 2025</div>
                <div class="post-content">
                    <p>Coding allows me to create anything I imagine, solve problems, and continuously learn new things. It's both challenging and rewarding!</p>
                </div>
            </div>
        </div>
    </div>
    </div>
    <button class="feedback-btn">Feedback</button>
    <footer class="footer">
        &copy; 2025 Shobhit Kumar Dubey | Follow me:
        <a href="https://github.com/Shobhit-Kumar-Dubey" target="_self">GitHub</a>
        <a href="https://www.linkedin.com/in/shobhit-kumar-dubey-a386a8323/" target="_self">LinkedIn</a>
        <a href="mailto:shobhitdubeyofficial@gmail.com">Email</a>
    </footer>
    <script>
function getYouTubeId(url) {
    // Handles both youtube.com and youtu.be links
    let id = '';
    if (url.includes('youtube.com')) {
        const match = url.match(/[?&]v=([^&#]+)/);
        if (match) id = match[1];
    } else if (url.includes('youtu.be')) {
        id = url.split('/').pop();
    }
    return id;
}

function getYouTubeThumbnail(id) {
    return `https://img.youtube.com/vi/${id}/hqdefault.jpg`;
}

document.getElementById('showPostForm').onclick = function() {
    var form = document.getElementById('postForm');
    form.style.display = (form.style.display === 'none' || form.style.display === '') ? 'block' : 'none';
};

function savePostsToLocalStorage(posts) {
    localStorage.setItem('blogPosts', JSON.stringify(posts));
}

function loadPostsFromLocalStorage() {
    return JSON.parse(localStorage.getItem('blogPosts') || '[]');
}

document.getElementById('postForm').onsubmit = function(e) {
    e.preventDefault();
    var title = document.getElementById('postTitle').value.trim();
    var content = document.getElementById('postContent').value.trim();
    var image = document.getElementById('postImage').value.trim();
    var video = document.getElementById('postVideo').value.trim();
    var tsCode = document.getElementById('postTS').value.trim();
    if (!title || !content) return;
    var date = new Date().toLocaleDateString();

    // Create post object
    var postObj = { title, content, image, video, tsCode, date };

    // Load, update, and save posts
    var posts = loadPostsFromLocalStorage();
    posts.unshift(postObj);
    savePostsToLocalStorage(posts);

    // Render the new post
    renderPosts(posts);

    document.getElementById('postForm').reset();
    document.getElementById('postForm').style.display = 'none';
};

function renderPosts(posts) {
    const postsDiv = document.getElementById('posts');
    postsDiv.innerHTML = '';
    posts.forEach(postObj => {
        let videoHtml = '';
        if (postObj.video) {
            if (postObj.video.includes('youtube.com') || postObj.video.includes('youtu.be')) {
                const ytId = getYouTubeId(postObj.video);
                if (ytId) {
                    videoHtml = `
                        <iframe width="100%" height="315"
                            src="https://www.youtube.com/embed/${ytId}?rel=0&modestbranding=1&showinfo=0"
                            frameborder="0"
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                            allowfullscreen
                            style="border-radius:8px;">
                        </iframe>
                    `;
                }
            } else if (postObj.video.endsWith('.mp4')) {
                videoHtml = `<video controls style='width:100%;border-radius:6px;margin-top:12px;'><source src='${postObj.video}' type='video/mp4'>Your browser does not support the video tag.</video>`;
            }
        }
        const postDiv = document.createElement('div');
        postDiv.className = 'post';
        postDiv.style.animation = 'fadeInUp 1.2s';
        postDiv.innerHTML =
            (postObj.image ? `<img class='post-image' src='${postObj.image}' alt='${postObj.title}'>` : '') +
            `<div class='post-title'>${postObj.title}</div>` +
            `<div class='post-date'>${postObj.date}</div>` +
            `<div class='post-content'><p>${postObj.content}</p>` +
            videoHtml +
            (postObj.tsCode ? `<pre style='background:#f4f4f9;padding:12px;border-radius:6px;margin-top:12px;overflow:auto;'>${postObj.tsCode}</pre>` : '') +
            `</div>`;
        postsDiv.appendChild(postDiv);
    });
}

// On page load, render posts from localStorage
window.onload = function() {
    const posts = loadPostsFromLocalStorage();
    if (posts.length) {
        renderPosts(posts);
    }
};
    </script>
</body>
</html>
